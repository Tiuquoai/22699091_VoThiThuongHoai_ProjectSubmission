# File Tree: EProject-docker
Generated on: 10/17/2025, 2:12:17 PM
Root path: `d:\LTHDV\EProject-docker`

```
‚îú‚îÄ‚îÄ api-gateway/

‚îÇ   ‚îú‚îÄ‚îÄ node_modules/ üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile

‚îÇ   ‚îú‚îÄ‚îÄ index.js

‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json üö´ (auto-hidden)

‚îÇ   ‚îî‚îÄ‚îÄ package.json

‚îú‚îÄ‚îÄ auth/

‚îÇ   ‚îú‚îÄ‚îÄ node_modules/ üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ src/

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authController.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authMiddleware.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ userRepository.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authService.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ authController.test.js

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.js

‚îÇ   ‚îú‚îÄ‚îÄ .env üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile

‚îÇ   ‚îú‚îÄ‚îÄ index.js

‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json üö´ (auto-hidden)

‚îÇ   ‚îî‚îÄ‚îÄ package.json

‚îú‚îÄ‚îÄ order/

‚îÇ   ‚îú‚îÄ‚îÄ node_modules/ üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ src/

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ order.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/

‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ isAuthenticated.js

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messageBroker.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.js

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.js

‚îÇ   ‚îú‚îÄ‚îÄ .env üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile

‚îÇ   ‚îú‚îÄ‚îÄ index.js


‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json üö´ (auto-hidden)

‚îÇ   ‚îî‚îÄ‚îÄ package.json

‚îú‚îÄ‚îÄ product/

‚îÇ   ‚îú‚îÄ‚îÄ node_modules/ üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ src/

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productController.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ product.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repositories/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productsRepository.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productRoutes.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ productsService.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test/

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ product.test.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/

‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ isAuthenticated.js

‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messageBroker.js

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .DS_Store üö´ (auto-hidden)

‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.js

‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.js

‚îÇ   ‚îú‚îÄ‚îÄ .env üö´ (auto-hidden)

‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile

‚îÇ   ‚îú‚îÄ‚îÄ index.js

‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json üö´ (auto-hidden)

‚îÇ   ‚îî‚îÄ‚îÄ package.json

‚îú‚îÄ‚îÄ rabbitmq/

‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile

‚îú‚îÄ‚îÄ utils/

‚îÇ   ‚îî‚îÄ‚îÄ isAuthenticated.js

‚îú‚îÄ‚îÄ .gitignore

‚îú‚îÄ‚îÄ DEPLOYMENT.md

‚îú‚îÄ‚îÄ docker-compose.yml

‚îú‚îÄ‚îÄ package-lock.json üö´ (auto-hidden)

‚îî‚îÄ‚îÄ package.json
```
---
## Prerequisites

Tr∆∞·ªõc khi tri·ªÉn khai, c·∫ßn c√≥:

Docker Desktop (>= 24.x)

Node.js (>= 18.x) ‚Äì ch·ªâ n·∫øu ch·∫°y th·ªß c√¥ng ngo√†i Docker

MongoDB (qua Docker ho·∫∑c c√†i local)

RabbitMQ (rabbitmq:4-management)

Postman ƒë·ªÉ ki·ªÉm th·ª≠ API

## Local Development (Docker Compose)

B·∫Øt ƒë·∫ßu t·∫•t c·∫£ services

```bash
docker-compose up -d
```

Ki·ªÉm tra tr·∫°ng th√°i

```bash
docker-compose ps
```

Xem log

```bash
docker-compose logs -f product
```

D·ª´ng t·∫•t c·∫£

```bash
docker-compose down
```

## Ch·∫°y t·ª´ng service th·ªß c√¥ng

V√†o t·ª´ng th∆∞ m·ª•c auth, product, order, api-gateway:

C√†i dependencies RabbitMQ & MongoDB

RabbitMQ UI: 

http://localhost:15672

```bash

Username: guest
Password: guest
```

MongoDB URI:

mongodb://localhost:27017

1. V√†o th∆∞ m·ª•c v√† c√†i dependency

Ch·∫°y Auth Service (c·ªïng 3000)

```bash
cd EProject-Phase-1\auth
npm install
```

Ch·∫°y Product Service (c·ªïng 3001)

```bash
cd EProject-Phase-1\product
npm install
```

Ch·∫°y Order Service (c·ªïng 3002)

```bash
cd EProject-Phase-1\order
npm install
``` 

Ch·∫°y API Gateway (c·ªïng 3003)

```bash
cd EProject-Phase-1\api-gateway
npm install
```

2. Ch·∫°y server 

```bash
npm run dev
```

## API Testing Flow (Postman)

1. ƒêƒÉng_k√Ω_ng∆∞·ªùi_d√πng: POST http://localhost:3003/auth/api/v1/register

![Register](./result/register.png)

2. ƒêƒÉng_nh·∫≠p: POST http://localhost:3003/auth/api/v1/login

![Login](./result/login.png)

![Login User](./result/login_user.png)

3. T·∫°o_s·∫£n_ph·∫©m: POST http://localhost:3003/products/api/v1/add

![Add Product](./result/add_product.png)

![Product](./result/product.png)

4. Xem_s·∫£n_ph·∫©m: GET http://localhost:3003/products/api/v1

![Show Product](./result/show_product.png)

5. Mua_s·∫£n_ph·∫©m: POST http://localhost:3003/products/api/v1/buy

![Buy](./result/buy.png)